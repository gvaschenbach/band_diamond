
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{project\_1\_mail\_catalog}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{Project information:}\label{project-information}

\subsubsection{Student: Peter Jones}\label{student-peter-jones}

\subsubsection{Program: Udacity \textbar{} Business Analyst
Nanodegree}\label{program-udacity-business-analyst-nanodegree}

\subsubsection{Title: Project 1 \textbar{} Mail catalog ROI predictive
analysis}\label{title-project-1-mail-catalog-roi-predictive-analysis}

\subsubsection{Date started: 2018.03.15}\label{date-started-2018.03.15}

    \subsection{Section 1: Business and Data
Understanding}\label{section-1-business-and-data-understanding}

    \paragraph{Business problem:}\label{business-problem}

You recently started working for a company that manufactures and sells
high-end home goods. Last year the company sent out its first print
catalog, and is preparing to send out this year's catalog in the coming
months. The company has 250 new customers from their mailing list that
they want to send the catalog to.

Your manager has been asked to determine how much profit the company can
expect from sending a catalog to these customers. You, the business
analyst, are assigned to help your manager run the numbers. While fairly
knowledgeable about data analysis, your manager is not very familiar
with predictive models.

You've been asked to predict the expected profit from these 250 new
customers. Management does not want to send the catalog out to these new
customers unless the expected profit contribution exceeds \$10,000.

Details: - The costs of printing and distributing is \$6.50 per catalog.
- The average gross margin (price - cost) on all products sold through
the catalog is 50\%. - Make sure to multiply your revenue by the gross
margin first before you subtract out the \$6.50 cost when calculating
your profit. - Write a short report with your recommendations outlining
your reasons why the company should go with your recommendations to your
manager.

    \paragraph{What decision needs to be
made?}\label{what-decision-needs-to-be-made}

The primary decision to be made is whether or not to send a mail catalog
to new members on the company mailing list. The criteria for this
decision is an predicted return on investment of \$10,000 or more.

    \subsubsection{What data is needed to inform that
decision?}\label{what-data-is-needed-to-inform-that-decision}

Data needed are any historical data on the success of past mail catalog
projects, including who responded, how much they spent, and any other
covariates thought to be valuable to a prediction and feasible to
gather.

    \newpage

    \subsection{Section 2: Analysis, Modeling, and
Validation}\label{section-2-analysis-modeling-and-validation}

    \paragraph{Libraries}\label{libraries}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{library}\PY{p}{(} tidyverse \PY{p}{)}
        \PY{k+kn}{library}\PY{p}{(} GGally \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
── Attaching packages ─────────────────────────────────────── tidyverse 1.2.1 ──
✔ ggplot2 2.2.1     ✔ purrr   0.2.4
✔ tibble  1.3.4     ✔ dplyr   0.7.4
✔ tidyr   0.7.2     ✔ stringr 1.2.0
✔ readr   1.1.1     ✔ forcats 0.2.0
── Conflicts ────────────────────────────────────────── tidyverse\_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()

Attaching package: ‘GGally’

The following object is masked from ‘package:dplyr’:

    nasa


    \end{Verbatim}

    \paragraph{Load up data}\label{load-up-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} df.train \PY{o}{\PYZlt{}\PYZhy{}} readxl\PY{o}{::}read\PYZus{}excel\PY{p}{(} \PY{l+s}{\PYZsq{}}\PY{l+s}{../data/raw/p1\PYZhy{}customers.xlsx\PYZsq{}} \PY{p}{)}
        df.pred \PY{o}{\PYZlt{}\PYZhy{}} readxl\PY{o}{::}read\PYZus{}excel\PY{p}{(} \PY{l+s}{\PYZsq{}}\PY{l+s}{../data/raw/p1\PYZhy{}mailinglist.xlsx\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \paragraph{Munge}\label{munge}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} df.train \PY{o}{\PYZlt{}\PYZhy{}} \PY{k+kp}{within}\PY{p}{(} df.train\PY{p}{,}\PY{p}{\PYZob{}}
                Responded\PYZus{}to\PYZus{}Last\PYZus{}Catalog\PY{p}{[}Responded\PYZus{}to\PYZus{}Last\PYZus{}Catalog \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{No\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{0} 
                Responded\PYZus{}to\PYZus{}Last\PYZus{}Catalog\PY{p}{[}Responded\PYZus{}to\PYZus{}Last\PYZus{}Catalog \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Yes\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{1}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Credit Card Only\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{0}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club and Credit Card\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{1}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club Only\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{2}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Store Mailing List\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{3} \PY{p}{\PYZcb{}}
                          \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} df.train \PY{o}{\PYZlt{}\PYZhy{}} \PY{k+kp}{transform}\PY{p}{(} df.train 
                 \PY{p}{,} Responded\PYZus{}to\PYZus{}Last\PYZus{}Catalog \PY{o}{=} \PY{k+kp}{factor}\PY{p}{(} Responded\PYZus{}to\PYZus{}Last\PYZus{}Catalog 
                                                     \PY{p}{,} levels \PY{o}{=} \PY{k+kt}{c}\PY{p}{(} \PY{l+m}{0}\PY{p}{,} \PY{l+m}{1} \PY{p}{)}
                                                     \PY{p}{,} labels \PY{o}{=} \PY{k+kt}{c}\PY{p}{(} \PY{l+s}{\PYZsq{}}\PY{l+s}{No response\PYZsq{}}\PY{p}{,} \PY{l+s}{\PYZsq{}}\PY{l+s}{Responded \PYZsq{}} \PY{p}{)} 
                                                     \PY{p}{)}
                             \PY{p}{,} Store\PYZus{}Number \PY{o}{=} \PY{k+kp}{factor}\PY{p}{(} Store\PYZus{}Number \PY{p}{)}
                             \PY{p}{,} Customer\PYZus{}Segment \PY{o}{=} \PY{k+kp}{factor}\PY{p}{(} Customer\PYZus{}Segment
                                                        \PY{p}{,} levels \PY{o}{=} \PY{k+kt}{c}\PY{p}{(} \PY{l+m}{0}\PY{p}{,} \PY{l+m}{1}\PY{p}{,} \PY{l+m}{2}\PY{p}{,} \PY{l+m}{3} \PY{p}{)}
                                                        \PY{p}{,} labels \PY{o}{=} \PY{k+kt}{c}\PY{p}{(} \PY{l+s}{\PYZsq{}}\PY{l+s}{Credit Card Only\PYZsq{}}
                                                                    \PY{p}{,} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club and Credit Card\PYZsq{}} 
                                                                    \PY{p}{,} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club Only\PYZsq{}}
                                                                    \PY{p}{,} \PY{l+s}{\PYZsq{}}\PY{l+s}{Store Mailing List\PYZsq{}} \PY{p}{)} \PY{p}{)}
                              \PY{p}{,} ZIP \PY{o}{=} \PY{k+kp}{factor}\PY{p}{(} ZIP \PY{p}{)} 
                             \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} df.pred \PY{o}{\PYZlt{}\PYZhy{}} \PY{k+kp}{within}\PY{p}{(} df.pred\PY{p}{,}\PY{p}{\PYZob{}}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Credit Card Only\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{0}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club and Credit Card\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{1}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club Only\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{2}
                Customer\PYZus{}Segment\PY{p}{[}Customer\PYZus{}Segment \PY{o}{==} \PY{l+s}{\PYZsq{}}\PY{l+s}{Store Mailing List\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m}{3} \PY{p}{\PYZcb{}}
                          \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} df.pred \PY{o}{\PYZlt{}\PYZhy{}} \PY{k+kp}{transform}\PY{p}{(} df.pred
                 \PY{p}{,} Store\PYZus{}Number \PY{o}{=} \PY{k+kp}{factor}\PY{p}{(} Store\PYZus{}Number \PY{p}{)}
                 \PY{p}{,} Customer\PYZus{}Segment \PY{o}{=} \PY{k+kp}{factor}\PY{p}{(} Customer\PYZus{}Segment
                                                        \PY{p}{,} levels \PY{o}{=} \PY{k+kt}{c}\PY{p}{(} \PY{l+m}{0}\PY{p}{,} \PY{l+m}{1}\PY{p}{,} \PY{l+m}{2}\PY{p}{,} \PY{l+m}{3} \PY{p}{)}
                                                        \PY{p}{,} labels \PY{o}{=} \PY{k+kt}{c}\PY{p}{(} \PY{l+s}{\PYZsq{}}\PY{l+s}{Credit Card Only\PYZsq{}}
                                                                    \PY{p}{,} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club and Credit Card\PYZsq{}} 
                                                                    \PY{p}{,} \PY{l+s}{\PYZsq{}}\PY{l+s}{Loyalty Club Only\PYZsq{}}
                                                                    \PY{p}{,} \PY{l+s}{\PYZsq{}}\PY{l+s}{Store Mailing List\PYZsq{}} \PY{p}{)} \PY{p}{)}
                 \PY{p}{,} ZIP \PY{o}{=} \PY{k+kp}{factor}\PY{p}{(} ZIP \PY{p}{)} 
                             \PY{p}{)}
\end{Verbatim}


    \paragraph{Checking}\label{checking}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} str\PY{p}{(} df.train \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
'data.frame':	2375 obs. of  12 variables:
 \$ Name                      : chr  "Pamela Wright" "Danell Valdez" "Jessica Rinehart" "Nancy Clark" {\ldots}
 \$ Customer\_Segment          : Factor w/ 4 levels "Credit Card Only",..: 4 4 4 4 4 4 4 4 4 4 {\ldots}
 \$ Customer\_ID               : num  2 7 8 9 10 11 12 16 17 19 {\ldots}
 \$ Address                   : chr  "376 S Jasmine St" "12066 E Lake Cir" "7225 S Gaylord St" "4497 Cornish Way" {\ldots}
 \$ City                      : chr  "Denver" "Greenwood Village" "Centennial" "Denver" {\ldots}
 \$ State                     : chr  "CO" "CO" "CO" "CO" {\ldots}
 \$ ZIP                       : Factor w/ 86 levels "80002","80003",..: 60 26 31 74 45 50 51 1 15 12 {\ldots}
 \$ Avg\_Sale\_Amount           : num  228 55 213 195 111 {\ldots}
 \$ Store\_Number              : Factor w/ 10 levels "100","101","102",..: 1 6 2 6 1 7 9 4 8 3 {\ldots}
 \$ Responded\_to\_Last\_Catalog : Factor w/ 2 levels "No response",..: 1 2 1 2 2 1 1 1 1 1 {\ldots}
 \$ Avg\_Num\_Products\_Purchased: num  1 1 1 1 1 1 1 3 2 1 {\ldots}
 \$ X.\_Years\_as\_Customer      : num  6 6 3 6 2 8 7 1 2 6 {\ldots}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{k+kp}{table}\PY{p}{(} df.train\PY{o}{\PYZdl{}}ZIP \PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}

80002 80003 80004 80005 80007 80010 80011 80012 80013 80014 80015 80016 80017 
   31    56    80    71     7    28    42    88   127    71    90    40    53 
80018 80020 80021 80022 80023 80026 80027 80030 80031 80033 80108 80110 80111 
    3    87    48    10    10     5    13    11    52    44     2    19    21 
80112 80113 80120 80121 80122 80123 80124 80126 80127 80128 80129 80130 80134 
   18    23    15    10    10    28     2     9    14    12     8     7    12 
80138 80202 80203 80204 80205 80206 80207 80209 80210 80211 80212 80214 80215 
   15    11    12    25    23    14    16    17    27    32    51    52    25 
80216 80218 80219 80220 80221 80222 80223 80224 80226 80227 80228 80229 80230 
    9    16    93    40    28    32    12    31    71    45    24    18    17 
80231 80232 80233 80234 80235 80236 80237 80238 80239 80241 80246 80247 80249 
   42    37    16    24    12    32    23     8     7    12    15    57     5 
80260 80303 80305 80401 80403 80465 80602 80640 
   14     2     1    17     6     7     4     1 
    \end{verbatim}

    
    \paragraph{Exploration of the linearity of each predictor against the
target}\label{exploration-of-the-linearity-of-each-predictor-against-the-target}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} ggplot\PY{p}{(} df.train \PY{p}{)} \PY{o}{+}
            geom\PYZus{}point\PY{p}{(} aes\PY{p}{(} x \PY{o}{=} Avg\PYZus{}Num\PYZus{}Products\PYZus{}Purchased\PY{p}{,} y \PY{o}{=} Avg\PYZus{}Sale\PYZus{}Amount \PY{p}{)} \PY{p}{)} \PY{o}{+}
            theme\PYZus{}classic\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_20_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} ggplot\PY{p}{(} df.train \PY{p}{)} \PY{o}{+}
             geom\PYZus{}point\PY{p}{(} aes\PY{p}{(} x \PY{o}{=} X.\PYZus{}Years\PYZus{}as\PYZus{}Customer\PY{p}{,} y \PY{o}{=} Avg\PYZus{}Sale\PYZus{}Amount \PY{p}{)} \PY{p}{)} \PY{o}{+}
             theme\PYZus{}classic\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_21_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Unclear on this one. Assuming linearity.

    \begin{itemize}
\tightlist
\item
  It looks like the other continuous and count predictors have
  approximately linear relationships with the target.
\end{itemize}

    \paragraph{Modeling}\label{modeling}

    Due to the large number of levels for ZIP and a preliminary analysis
that showed only two ZIP values as significant, both having very low
counts (4 combined), I've removed ZIP initially to clean up the analysis
document.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} fit.train \PY{o}{\PYZlt{}\PYZhy{}} lm\PY{p}{(} Avg\PYZus{}Sale\PYZus{}Amount
                        \PY{o}{\PYZti{}} Customer\PYZus{}Segment
                        \PY{o}{+} Store\PYZus{}Number
                        \PY{o}{+} Avg\PYZus{}Num\PYZus{}Products\PYZus{}Purchased
                        \PY{o}{+} X.\PYZus{}Years\PYZus{}as\PYZus{}Customer
                        \PY{p}{,} data \PY{o}{=} df.train \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{k+kp}{summary}\PY{p}{(} fit.train \PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}

Call:
lm(formula = Avg_Sale_Amount ~ Customer_Segment + Store_Number + 
    Avg_Num_Products_Purchased + X._Years_as_Customer, data = df.train)

Residuals:
    Min      1Q  Median      3Q     Max 
-667.36  -67.18   -1.92   72.30  971.22 

Coefficients:
                                              Estimate Std. Error t value
(Intercept)                                   324.9191    13.9690  23.260
Customer_SegmentLoyalty Club and Credit Card  283.7500    11.9304  23.784
Customer_SegmentLoyalty Club Only            -149.3427     8.9887 -16.615
Customer_SegmentStore Mailing List           -245.7370     9.7806 -25.125
Store_Number101                                -5.1124    11.2477  -0.455
Store_Number102                                -6.5669    16.7433  -0.392
Store_Number103                                -3.7806    11.9145  -0.317
Store_Number104                               -20.3801    11.3109  -1.802
Store_Number105                               -20.2236    10.9613  -1.845
Store_Number106                               -17.3389    11.1836  -1.550
Store_Number107                               -13.8498    11.9089  -1.163
Store_Number108                               -11.4421    12.1707  -0.940
Store_Number109                                -0.2266    13.0394  -0.017
Avg_Num_Products_Purchased                     66.9284     1.5173  44.112
X._Years_as_Customer                           -2.3980     1.2257  -1.956
                                             Pr(>|t|)    
(Intercept)                                    <2e-16 ***
Customer_SegmentLoyalty Club and Credit Card   <2e-16 ***
Customer_SegmentLoyalty Club Only              <2e-16 ***
Customer_SegmentStore Mailing List             <2e-16 ***
Store_Number101                                0.6495    
Store_Number102                                0.6949    
Store_Number103                                0.7510    
Store_Number104                                0.0717 .  
Store_Number105                                0.0652 .  
Store_Number106                                0.1212    
Store_Number107                                0.2450    
Store_Number108                                0.3472    
Store_Number109                                0.9861    
Avg_Num_Products_Purchased                     <2e-16 ***
X._Years_as_Customer                           0.0505 .  
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 137.4 on 2360 degrees of freedom
Multiple R-squared:  0.8377,	Adjusted R-squared:  0.8367 
F-statistic: 869.8 on 14 and 2360 DF,  p-value: < 2.2e-16

    \end{verbatim}

    
    \paragraph{Removing Store\_Number}\label{removing-store_number}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} fit.train \PY{o}{\PYZlt{}\PYZhy{}} lm\PY{p}{(} Avg\PYZus{}Sale\PYZus{}Amount
                        \PY{o}{\PYZti{}} Customer\PYZus{}Segment
                        \PY{o}{+} Avg\PYZus{}Num\PYZus{}Products\PYZus{}Purchased
                        \PY{o}{+} X.\PYZus{}Years\PYZus{}as\PYZus{}Customer
                        \PY{p}{,} data \PY{o}{=} df.train \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{k+kp}{summary}\PY{p}{(} fit.train \PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}

Call:
lm(formula = Avg_Sale_Amount ~ Customer_Segment + Avg_Num_Products_Purchased + 
    X._Years_as_Customer, data = df.train)

Residuals:
    Min      1Q  Median      3Q     Max 
-663.04  -68.42   -1.69   71.58  976.10 

Coefficients:
                                             Estimate Std. Error t value
(Intercept)                                   313.760     11.861  26.454
Customer_SegmentLoyalty Club and Credit Card  282.622     11.910  23.729
Customer_SegmentLoyalty Club Only            -149.107      8.969 -16.625
Customer_SegmentStore Mailing List           -245.483      9.762 -25.146
Avg_Num_Products_Purchased                     67.018      1.514  44.255
X._Years_as_Customer                           -2.340      1.223  -1.914
                                             Pr(>|t|)    
(Intercept)                                    <2e-16 ***
Customer_SegmentLoyalty Club and Credit Card   <2e-16 ***
Customer_SegmentLoyalty Club Only              <2e-16 ***
Customer_SegmentStore Mailing List             <2e-16 ***
Avg_Num_Products_Purchased                     <2e-16 ***
X._Years_as_Customer                           0.0558 .  
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 137.4 on 2369 degrees of freedom
Multiple R-squared:  0.8371,	Adjusted R-squared:  0.8368 
F-statistic:  2435 on 5 and 2369 DF,  p-value: < 2.2e-16

    \end{verbatim}

    
    \paragraph{Removing X years as
customer}\label{removing-x-years-as-customer}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} fit.train \PY{o}{\PYZlt{}\PYZhy{}} lm\PY{p}{(} Avg\PYZus{}Sale\PYZus{}Amount
                        \PY{o}{\PYZti{}} Customer\PYZus{}Segment
                        \PY{o}{+} Avg\PYZus{}Num\PYZus{}Products\PYZus{}Purchased
                        \PY{p}{,} data \PY{o}{=} df.train \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{k+kp}{summary}\PY{p}{(} fit.train \PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}

Call:
lm(formula = Avg_Sale_Amount ~ Customer_Segment + Avg_Num_Products_Purchased, 
    data = df.train)

Residuals:
    Min      1Q  Median      3Q     Max 
-663.77  -67.31   -1.90   70.69  971.69 

Coefficients:
                                             Estimate Std. Error t value
(Intercept)                                   303.463     10.576   28.69
Customer_SegmentLoyalty Club and Credit Card  281.839     11.910   23.66
Customer_SegmentLoyalty Club Only            -149.356      8.973  -16.64
Customer_SegmentStore Mailing List           -245.418      9.768  -25.12
Avg_Num_Products_Purchased                     66.976      1.515   44.21
                                             Pr(>|t|)    
(Intercept)                                    <2e-16 ***
Customer_SegmentLoyalty Club and Credit Card   <2e-16 ***
Customer_SegmentLoyalty Club Only              <2e-16 ***
Customer_SegmentStore Mailing List             <2e-16 ***
Avg_Num_Products_Purchased                     <2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 137.5 on 2370 degrees of freedom
Multiple R-squared:  0.8369,	Adjusted R-squared:  0.8366 
F-statistic:  3040 on 4 and 2370 DF,  p-value: < 2.2e-16

    \end{verbatim}

    
    \begin{itemize}
\tightlist
\item
  All p.values for all retained variables are below 0.05, indicating
  that they have significant impact on the target
\item
  The R-squared value of 0.8369 shows that there is decent predictive
  performance from this model.
\item
  The proposed regression equation is: ( 281.84 * Loyalty Card and
  Credit Card ) + ( -149.36 * Loyalty Club Only ) + ( -245.42 * Store
  Mailing List ) + ( 66.98 * Average Number of Products Purchased ) +
  303.463
\end{itemize}

    \newpage

    \subsection{Section 3: Presentation and
Visualization}\label{section-3-presentation-and-visualization}

    \subsubsection{Score the new dataset}\label{score-the-new-dataset}

    \paragraph{Score the new dataset with the accepted
model}\label{score-the-new-dataset-with-the-accepted-model}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} df.pred\PY{o}{\PYZdl{}}Avg\PYZus{}Sale\PYZus{}Amount \PY{o}{\PYZlt{}\PYZhy{}} predict\PY{p}{(} fit.train\PY{p}{,} newdata \PY{o}{=} df.pred \PY{p}{)}
\end{Verbatim}


    \paragraph{Calculate the probable margin as revenue times probability of
responding}\label{calculate-the-probable-margin-as-revenue-times-probability-of-responding}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} df.pred\PY{o}{\PYZdl{}}prob\PYZus{}margin \PY{o}{\PYZlt{}\PYZhy{}} df.pred\PY{o}{\PYZdl{}}Score\PYZus{}Yes \PY{o}{*} df.pred\PY{o}{\PYZdl{}}Avg\PYZus{}Sale\PYZus{}Amount
\end{Verbatim}


    \paragraph{Calculate the net margin and
revenue}\label{calculate-the-net-margin-and-revenue}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} df.pred\PY{o}{\PYZdl{}}net\PYZus{}margin \PY{o}{\PYZlt{}\PYZhy{}} df.pred\PY{o}{\PYZdl{}}prob\PYZus{}margin\PY{o}{/} \PY{l+m}{2}
         df.pred\PY{o}{\PYZdl{}}revenue \PY{o}{\PYZlt{}\PYZhy{}} df.pred\PY{o}{\PYZdl{}}net\PYZus{}margin \PY{o}{\PYZhy{}} \PY{l+m}{6.50}
\end{Verbatim}


    \paragraph{Check new dataset}\label{check-new-dataset}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{k+kp}{head}\PY{p}{(} df.pred \PY{p}{)}
\end{Verbatim}


    \begin{tabular}{r|llllllllllllllll}
 Name & Customer\_Segment & Customer\_ID & Address & City & State & ZIP & Store\_Number & Avg\_Num\_Products\_Purchased & X.\_Years\_as\_Customer & Score\_No & Score\_Yes & Avg\_Sale\_Amount & prob\_margin & net\_margin & revenue\\
\hline
	 A Giametti                   & Loyalty Club Only            & 2213                         & 5326 S Lisbon Way            & Centennial                   & CO                           & 80015                        & 105                          & 3                            & 0.2                          & 0.6949642                    & 0.3050358                    & 355.0364                     & 108.29880                    &  54.14940                    &  47.64940                   \\
	 Abby Pierson                 & Loyalty Club and Credit Card & 2785                         & 4344 W Roanoke Pl            & Denver                       & CO                           & 80236                        & 101                          & 6                            & 0.6                          & 0.5272755                    & 0.4727245                    & 987.1595                     & 466.65450                    & 233.32725                    & 226.82725                   \\
	 Adele Hallman                & Loyalty Club Only            & 2931                         & 5219 S Delaware St           & Englewood                    & CO                           & 80110                        & 101                          & 7                            & 0.9                          & 0.4211182                    & 0.5788819                    & 622.9412                     & 360.60934                    & 180.30467                    & 173.80467                   \\
	 Alejandra Baird              & Loyalty Club Only            & 2231                         & 2301 Lawrence St             & Denver                       & CO                           & 80205                        & 103                          & 2                            & 0.6                          & 0.6948622                    & 0.3051378                    & 288.0602                     &  87.89805                    &  43.94902                    &  37.44902                   \\
	 Alice Dewitt                 & Loyalty Club Only            & 2530                         & 5549 S Hannibal Way          & Centennial                   & CO                           & 80015                        & 104                          & 4                            & 0.5                          & 0.6122941                    & 0.3877059                    & 422.0126                     & 163.61674                    &  81.80837                    &  75.30837                   \\
	 Amanda Donahoe               & Credit Card Only             & 1946                         & 10093 E Warren Ave           & Denver                       & CO                           & 80247                        & 105                          & 7                            & 0.7                          & 0.7327217                    & 0.2672783                    & 772.2969                     & 206.41820                    & 103.20910                    &  96.70910                   \\
\end{tabular}


    
    \paragraph{Calculate predicted ROI using the sum of the probable
margin}\label{calculate-predicted-roi-using-the-sum-of-the-probable-margin}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{k+kp}{sum}\PY{p}{(} df.pred\PY{o}{\PYZdl{}}revenue \PY{p}{)}
\end{Verbatim}


    21987.4356865454

    
    \subsubsection{What is my
recommendation?:}\label{what-is-my-recommendation}

My recommendation is to send the catalog.

    \subsubsection{How did I come up with my
recommendation?:}\label{how-did-i-come-up-with-my-recommendation}

As shown above, I used the model built in section 2 to score the mailing
list participants for predicted revenue. I then multiplied the predicted
revenue by the probability of responding for each customer. I then
summed the result.

    \subsubsection{What is the expected profit from the new catalog
(assuming the catalog is sent to these 250
customers)?}\label{what-is-the-expected-profit-from-the-new-catalog-assuming-the-catalog-is-sent-to-these-250-customers}

The expected profit from the new catalog send is: \$21,987.44.

    \paragraph{Extras:}\label{extras}

Show the distributions of all variables:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} ggpairs\PY{p}{(} df.train\PY{p}{[}\PY{p}{,}\PY{k+kt}{c}\PY{p}{(}\PY{l+m}{2}\PY{p}{,}\PY{l+m}{8}\PY{o}{:}\PY{l+m}{12}\PY{p}{)}\PY{p}{]} \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.
`stat\_bin()` using `bins = 30`. Pick better value with `binwidth`.

    \end{Verbatim}

    
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_52_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \paragraph{Would I need to go back and get more data from my
manger?}\label{would-i-need-to-go-back-and-get-more-data-from-my-manger}

While the model built has decent performance with a multiple R-squared
of 0.837, more data could possibly improve the accuracy of the predicted
revenue. In this case, with the decision threshold at \$10,000 and the
predicted revenue of more than two times the threshold at \$21,987.44, I
don't believe we would need to go back to my manager for more data in
order to make this recommendation to send the catalog.


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
